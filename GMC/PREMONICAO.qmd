---
title: "Análise GM Curitiba & Banca AOCP"
format:
  revealjs:
    chalkboard: true
    incremental: true
    slide-number: true
    theme: simple
editor: visual
css: styles.css
---

```{r setup, include=FALSE}
# --- CONFIGURAÇÃO INICIAL (R) ---
# Este bloco roda silenciosamente para preparar os dados
if(!require(pacman)) install.packages("pacman")
pacman::p_load(tidyverse, knitr, viridis, scales, tidytext, flextable)

# Configuração visual para os gráficos ggplot
theme_set(theme_minimal(base_size = 18) + 
          theme(
            plot.title = element_text(face = "bold", size = 20, color = "#5E0C10"),
            strip.text = element_text(face = "bold", size = 14, color = "gray100"),
            strip.background = element_rect(fill = "#5E0C10", color = NA),
            axis.text.y = element_text(face = "bold"),
            legend.position = "none"
          ))

# --- CARREGAMENTO DOS DADOS ---
dados_portugues <- tibble(
  topico = c("Ortografia", "Acentuação", "Fonética", "Morfologia", "Formação de Palavras", "Colocação Pronominal", "Semântica", "Sintaxe", "Pontuação", "Regência", "Crase", "Concordância", "Voz Passiva/Ativa", "Coerência", "Figuras de Ling.", "Função do Se/Que", "Interpretação de Texto", "Tipologia Textual", "Reescrita"),
  n_questoes = c(5, 9, 10, 41, 8, 3, 22, 27, 15, 7, 5, 11, 1, 16, 19, 15, 44, 13, 15),
  bloco = "Português"
)

dados_informatica <- tibble(
  topico = c("Conceitos Gerais", "Hardware", "Processador", "Memórias", "Periféricos", "Windows 10/11", "LibreOffice Writer", "LibreOffice Calc", "LibreOffice Impress", "Navegadores", "Correio Eletrônico", "Buscadores", "Segurança/Ameaças", "Antivírus", "Compactadores"),
  n_questoes = c(9, 12, 3, 6, 3, 4, 7, 6, 1, 11, 8, 3, 10, 2, 2),
  bloco = "Informática"
)

dados_rlm <- tibble(
  topico = c("Conjuntos", "Números Racionais/Decimais", "Análise Combinatória", "Porcentagem", "Regra de Três", "Geometria Plana/Espacial", "Sequências Lógicas", "Tautologia/Equivalências", "Argumentos Lógicos", "Diagramas Lógicos", "Equações e Problemas"),
  n_questoes = c(7, 16, 6, 7, 5, 6, 8, 14, 10, 15, 4),
  bloco = "RLM"
)

dados_direito <- tibble(
  topico = c("D. Adm: Atos e Poderes", "D. Adm: Agentes e Processo", "D. Adm: Org. e Responsabilidade", "Const: Fundamentais e Sociais", "Const: Poderes e Defesa", "Penal: Teoria do Crime", "Penal: Crimes em Espécie", "Penal: Penas e Ação", "Proc. Penal: Inquérito e Prisão", "Proc. Penal: Provas e Ação"),
  n_questoes = c(39, 28, 24, 42, 27, 39, 61, 23, 55, 37),
  bloco = "Direito"
)

dados_leg_especificas <- tibble(
  topico = c("Lei de Improbidade", "ECA", "Estatuto Desarmamento", "Lei Maria da Penha", "Abuso de Autoridade", "Const. Estadual", "Leis Municipais Específicas"),
  n_questoes = c(8, 40, 8, 14, 9, 12, 5),
  bloco = "Leg. Específicas"
)

todos_dados <- bind_rows(dados_portugues, dados_informatica, dados_rlm, dados_direito, dados_leg_especificas) %>%
  group_by(bloco) %>%
  mutate(
    perc = n_questoes / sum(n_questoes),
    label_perc = percent(perc, accuracy = 1)
  ) %>%
  ungroup()
```

#  {background-image="CAPA.png" background-size="cover" background-position="center" background-color="black"}

# O DNA da Banca AOCP {background-color="#ffffff"}

## Visão Geral

<br>

> **"Não existe distribuição igualitária."**

<br>

Analisamos o histórico de provas para **Carreiras Policiais** e identificamos que a banca possui predileções claras.

------------------------------------------------------------------------

## 1. Língua Portuguesa

::::: columns
::: {.column width="40%"}
**Análise:**

A banca é conteudista em Gramática.

-   **Top 1:** Interpretação.
-   **Top 2:** Morfologia.
:::

::: {.column width="60%"}
```{r plot_port, fig.width=8, fig.height=6}
todos_dados %>%
  filter(bloco == "Português") %>%
  ggplot(aes(x = reorder(topico, n_questoes), y = n_questoes, fill = n_questoes)) +
  geom_col(width = 0.7) +
  coord_flip() +
  scale_fill_viridis(option = "rocket", direction = 1) +
  labs(x = "", y = "Questões", title = "Português") 
```
:::
:::::

------------------------------------------------------------------------

## 2. Informática

::::: columns
::: {.column width="40%"}
**Análise:**

Foco na parte física e segurança.

-   **Destaque:** *Hardware*.
-   **Segurança:** Antivírus e Ameaças.
:::

::: {.column width="60%"}
```{r plot_info, fig.width=8, fig.height=6}
todos_dados %>%
  filter(bloco == "Informática") %>%
  ggplot(aes(x = reorder(topico, n_questoes), y = n_questoes, fill = n_questoes)) +
  geom_col(width = 0.7) +
  coord_flip() +
  scale_fill_viridis(option = "rocket", direction = 1) +
  labs(x = "", y = "Questões", title = "Informática")
```
:::
:::::

------------------------------------------------------------------------

## 3. Raciocínio Lógico

::::: columns
::: {.column width="40%"}
**Análise:**

Dois tópicos se destacam.

-   **Base:** Racionais e Decimais.
-   **Lógica:** Diagramas.
:::

::: {.column width="60%"}
```{r plot_rlm, fig.width=8, fig.height=6}
todos_dados %>%
  filter(bloco == "RLM") %>%
  ggplot(aes(x = reorder(topico, n_questoes), y = n_questoes, fill = n_questoes)) +
  geom_col(width = 0.7) +
  coord_flip() +
  scale_fill_viridis(option = "rocket", direction = 1) +
  labs(x = "", y = "Questões", title = "RLM")
```
:::
:::::

------------------------------------------------------------------------

## 4. Direito

::::: columns
::: {.column width="40%"}
**Análise:**

O coração da prova.

-   **Penal:** Crimes em Espécie.
-   **Processo:** Inquérito e Prisões.
:::

::: {.column width="60%"}
```{r plot_direito, fig.width=8, fig.height=6}
todos_dados %>%
  filter(bloco == "Direito") %>%
  ggplot(aes(x = reorder(topico, n_questoes), y = n_questoes, fill = n_questoes)) +
  geom_col(width = 0.7) +
  coord_flip() +
  scale_fill_viridis(option = "rocket", direction = 1, begin = 0.2, end = 0.8) +
  labs(x = "", y = "Questões", title = "Direito")
```
:::
:::::

------------------------------------------------------------------------

## 5. Legislação

::::: columns
::: {.column width="40%"}
**Análise:**

O gráfico fala por si só.

-   **O Rei:** O ECA domina.
-   **Outros tópicos importantes:** Maria da Penha, costituições estaduais e Abuso de autoridade.
:::

::: {.column width="60%"}
```{r plot_leg, fig.width=8, fig.height=6}
todos_dados %>%
  filter(bloco == "Leg. Específicas") %>%
  ggplot(aes(x = reorder(topico, n_questoes), y = n_questoes, fill = n_questoes)) +
  geom_col(width = 0.7) +
  coord_flip() +
  scale_fill_viridis(option = "rocket", direction = 1, begin = 0.2, end = 0.8) +
  labs(x = "", y = "Questões", title = "Legislação")
```
:::
:::::

------------------------------------------------------------------------

## Resumo: Top 15 Geral

Se você tivesse pouco tempo, foque nestes:

```{r tabela}
# Tabela corrigida para PPT usando Flextable
todos_dados %>%
  arrange(desc(n_questoes)) %>%
  head(15) %>%
  select(Disciplina = bloco, Tópico = topico, `Qtd` = n_questoes, `Relevância` = label_perc) %>%
  flextable() %>%
  colformat_double(digits = 0) %>%
  autofit() %>%
  theme_vanilla() %>%
  bold(part = "header") %>%
  bg(part = "header", bg = "#5E0C10") %>%
  color(part = "header", color = "white")
```

#  {background-image="2.png" background-size="cover" background-position="center" background-color="black"}

#  {background-image="3.png" background-size="cover" background-position="center" background-color="black"}

#  {background-image="4.png" background-size="cover" background-position="center" background-color="black"}

#  {background-image="5.png" background-size="coverf" background-position="center" background-color="black"}

#  {background-image="6.png" background-size="cover" background-position="center" background-color="black"}

#  {background-image="7.png" background-size="cover" background-position="center" background-color="black"}

#  {background-image="8.png" background-size="cover" background-position="center" background-color="black"}

#  {background-image="9.png" background-size="coverf" background-position="center" background-color="black"}

#  {background-image="15.png" background-size="cover" background-position="center" background-color="black"}

#  {background-image="16.png" background-size="cover" background-position="center" background-color="black"}

#  {background-image="17.png" background-size="cover" background-position="center" background-color="black"}

#  {background-image="18.png" background-size="coverf" background-position="center" background-color="black"}

#  {background-image="19.png" background-size="cover" background-position="center" background-color="black"}

#  {background-image="20.png" background-size="cover" background-position="center" background-color="black"}

#  {background-image="21.png" background-size="cover" background-position="center" background-color="black"}

#  {background-image="22.png" background-size="coverf" background-position="center" background-color="black"}

#  {background-image="23.png" background-size="cover" background-position="center" background-color="black"}

#  {background-image="24.png" background-size="coverf" background-position="center" background-color="black"}

#  {background-image="25.png" background-size="cover" background-position="center" background-color="black"}

#  {background-image="26.png" background-size="cover" background-position="center" background-color="black"}

#  {background-image="27.png" background-size="cover" background-position="center" background-color="black"}

#  {background-image="28.png" background-size="coverf" background-position="center" background-color="black"}

#  {background-image="29.png" background-size="cover" background-position="center" background-color="black"}

#  {background-image="30.png" background-size="coverf" background-position="center" background-color="black"}

#  {background-image="31.png" background-size="cover" background-position="center" background-color="black"}

#  {background-image="32.png" background-size="coverf" background-position="center" background-color="black"}

#  {background-image="32a.png" background-size="coverf" background-position="center" background-color="black"}

#  {background-image="33.png" background-size="cover" background-position="center" background-color="black"}

#  {background-image="34.png" background-size="cover" background-position="center" background-color="black"}

#  {background-image="35.png" background-size="cover" background-position="center" background-color="black"}

#  {background-image="35 a.png" background-size="cover" background-position="center" background-color="black"}

#  {background-image="37.png" background-size="cover" background-position="center" background-color="black"}

#  {background-image="38.png" background-size="cover" background-position="center" background-color="black"}
